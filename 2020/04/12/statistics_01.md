# ごあいさつ
お久しぶりです。3ヶ月ぶり、3回目の投稿となります。
この3ヶ月は人生を揺るがす大きな決断と行動をしていたので、エンジニア活動が止まっていました。
いろいろありましたが、エンジニアっていいなぁ、となりました。（完）

さて、3回目の投稿は機械学習の基礎である、統計学シリーズの第1回目となります。
このシリーズでは[統計検定2級](http://www.toukei-kentei.jp/wp-content/uploads/grade2_hani_181214.pdf)の合格を目指してお勉強していきます。
大学では行列、解析学、特殊関数などを勉強しましたが、機械学習で使えるレベルの統計学は今回初めてです。

# 課題図書
このシリーズで使用する課題図書です。課題図書を読み進めるにあたり、特に重要な箇所や、わかりづらいと思った箇所をまとめていきます。

- [統計学の時間](https://bellcurve.jp/statistics/course/)
    統計学を具体例を図解しながらわかりやすい言葉でまとめてあるWebサイトです。統計学の概要を把握したら後続の課題図書に進むのが良いと思います。
- [統計学入門 (基礎統計学Ⅰ)](https://www.amazon.co.jp//dp/4130420658)
    統計学を体系的にまとめてあり、裏側の数学的な証明等もあります。やや難易度は高いですが、繰り返し読むと理解の網羅性が上がります。
- [数理統計学 (数学シリーズ)](https://www.amazon.co.jp/dp/4785314117)
    統計学入門よりさらに踏み込んだ数学的な証明が書いてある数学の本です。

# ローレンツ曲線
2つのデータの累積相対度数を組み合わせて描いた曲線です。データの分配の不均等さを求めることができます。原点と2つの累積相対度数の軸の頂点の座標を結んだ直線を**完全平等線**といい、データの分配が完全に均等である場合、ローレンツ曲線は完全平等線と一致します。

# ジニ係数
完全平等線とローレンツ曲線で結ばれる図形の面積の2倍の値です。ジニ係数は0から1までの値を取り、1に近いほど不均等で、0に近いほど均等であることを表します。

# 新型コロナウィルスの国内累計感染者数のローレンツ曲線とジニ係数
都道府県累積相対度数と感染者数累積相対度数から、ローレンツ曲線を描き、ジニ係数を求めます。
ローレンツ曲線は青実線、完全平等線は黒点線で描きました。

> 2020年4月11日のデータ

| 感染者数規模 | 都道府県数 | 都道府県数相対度数 | **都道府県数累積相対度数** | 感染者数 | 感染者数相対度数 | **感染者数累積相対度数** |
|:---|---:|---:|---:|---:|---:|---:|
|0人以上100未満|37|0.7872 |0.7872 |1103|0.1869|0.186885801|
|100人以上200人未満|1|0.0213 |0.8085 |168|0.0284|0.2154|
|200人以上300人未満|2|0.0426 |0.8511 |463|0.0784|0.2938|
|300人以上400人未満|4|0.0851 |0.9362 |1329|0.2251|0.5190|
|400人以上500人未満|1|0.0213 |0.9574 |425|0.0720|0.5910|
|500人以上600人未満|0|0.0000 |0.9574 |0|0.0000|0.5910|
|600人以上|2|0.0426 |1.0000 |2414|0.4090|1.0000 |
|合計|47|1.0000 |-|5902|1.0000 |-|

![undefined.jpg](https://s3.qrunch.io/ea691ef5617e0288951fbd3f46e195ad.png)

- 都道府県数累積相対度数から、都道府県数全体の約80%で感染者数全体の約20%を占めていることがわかります
- 感染者数累積相対度数から、感染者数全体の約40%が都道府県数全体の約6%で占められていることがわかります
- 完全平等線とローレンツ曲線で結ばれる図形が大きく、都道府県別の感染者数の分配は不均等であることがわかります
- ジニ係数を求めると **0.6626** となり、ジニ係数は大きいと言えます
    ```
    { 1 * 1 * 0.5 - (0.7872  * 0.1869 * 0.5) - { (0.1869 + 0.2154) * 0.0213 * 0.5 } - { (0.2154 + 0.2938) * 0.0426 * 0.5 } - { (0.2938 + 0.5190) * 0.0851 * 0.5 } - { (0.5190 + 0.5910) * 0.0213 * 0.5 } - { (0.5910 + 1.0000) * 0.0426 * 0.5 } } * 2
    = 0.6626
    ```
    
# まとめ
ローレンツ曲線とジニ係数から身近なデータに関する分配を知ることができました。

###### Special Thanks
データは東洋経済オンライン様から拝借しました。
```
Copyright (c) 2020 TOYO KEIZAI ONLINE
https://github.com/kaz-ogiwara/covid19/blob/master/LICENSE
```

